<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–æ–≤–∏–Ω–∫–∏ | –î—Ä—É–∂–±–∞ - –∂–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞</title>
    <link rel="stylesheet" href="css/style-main.css">
    <link rel="stylesheet" href="css/style-catalog.css">
    <link rel="stylesheet" href="css/style-new.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Section -->
    <header class="header">
    <div class="container">
        <div class="header__inner">
            <a href="index.html" class="logo">
                <img src="img/logo.svg" alt="–î—Ä—É–∂–±–∞" class="logo__img">
                <span class="logo__text">–î–†–£–ñ–ë–ê</span>
            </a>
            
            <nav class="nav">
                <ul class="nav__list">
                    <li class="nav__item nav__item--dropdown">
                        <a href="catalog.html" class="nav__link">
                            <span class="nav__link-text">–ö–∞—Ç–∞–ª–æ–≥</span>
                            <span class="nav__link-arrow"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item"><a href="topupClothes.html" class="dropdown-link">–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞</a></li>
                            <li class="dropdown-item"><a href="dresses.html" class="dropdown-link">–ü–ª–∞—Ç—å—è</a></li>
                            <li class="dropdown-item"><a href="pants.html" class="dropdown-link">–ë—Ä—é–∫–∏</a></li>
                            <li class="dropdown-item"><a href="t-shirts.html" class="dropdown-link">–§—É—Ç–±–æ–ª–∫–∏</a></li>
                            <li class="dropdown-item"><a href="accessories.html" class="dropdown-link">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</a></li>
                        </ul>
                    </li>
                    <li class="nav__item"><a href="deals.html" class="nav__link">–ê–∫—Ü–∏–∏</a></li>
                    <li class="nav__item"><a href="new.html" class="nav__link">–ù–æ–≤–∏–Ω–∫–∏</a></li>
                </ul>
            </nav>
            
            <div class="header__actions">
                <div class="auth-dropdown">
                    <button class="auth-btn" id="auth-btn">
                        <span class="auth-btn__icon">üë§</span>
                        <span class="auth-btn__text" id="auth-btn-text">–í–æ–π—Ç–∏</span>
                    </button>
                    <div class="auth-dropdown-menu" id="auth-dropdown">
                        <div class="auth-dropdown-content" id="auth-dropdown-content">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
                        </div>
                    </div>
                </div>
                <a href="cart.html" class="cart-btn-link">
                    <button class="cart-btn" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
                        <span class="cart-btn__icon">üõí</span>
                        <span class="cart-btn__count" id="cart-count">0</span>
                    </button>
                </a>
            </div>
        </div>
    </div>
    </header>


    <main class="new-page">
        <section class="new-banner" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('img/new-banner.jpg');">
            <div class="container">
                <h1 class="new-banner__title">–ù–æ–≤–∏–Ω–∫–∏ —Å–µ–∑–æ–Ω–∞</h1>
                <p class="new-banner__text">–°–≤–µ–∂–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –≥–∞—Ä–¥–µ—Ä–æ–±–∞</p>
            </div>
        </section>

        <section class="new-controls">
            <div class="container">
                <div class="new-controls__inner">
                    <div class="new-sort">
                        <label for="sortSelect">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                        <select id="sortSelect" class="sort-select">
                            <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                            <option value="price-asc">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é —Ü–µ–Ω—ã</option>
                            <option value="price-desc">–ü–æ —É–±—ã–≤–∞–Ω–∏—é —Ü–µ–Ω—ã</option>
                            <option value="popular">–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏</option>
                        </select>
                    </div>
                </div>
            </div>
        </section>

        <section class="new-main">
            <div class="container">
                <div class="new-grid" id="newGrid">
                    <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
                
                <div class="new-pagination" id="pagination">
                    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer__grid">
                <div class="footer__col footer__col--brand">
                    <div class="footer-brand">
                        <img src="img/logo2.svg" alt="–î—Ä—É–∂–±–∞" class="footer-brand__logo">
                        <h3 class="footer-brand__name">–î–†–£–ñ–ë–ê</h3>
                    </div>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="/about" class="footer-menu__link">–û –Ω–∞—Å</a></li>
                        <li class="footer-menu__item"><a href="/reviews" class="footer-menu__link">–û—Ç–∑—ã–≤—ã</a></li>
                    </ul>
                </div>
                
                <div class="footer__col">
                    <h3 class="footer__title">–ö–ê–¢–ê–õ–û–ì–ò</h3>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="/outerwear" class="footer-menu__link">–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞</a></li>
                        <li class="footer-menu__item"><a href="/dresses" class="footer-menu__link">–ü–ª–∞—Ç—å—è</a></li>
                        <li class="footer-menu__item"><a href="/pants" class="footer-menu__link">–ë—Ä—é–∫–∏</a></li>
                    </ul>
                </div>
                
                <div class="footer__col">
                    <h3 class="footer__title">–°–ï–ó–û–ù–´</h3>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="/winter" class="footer-menu__link">–ó–∏–º–Ω—è—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</a></li>
                        <li class="footer-menu__item"><a href="/spring" class="footer-menu__link">–í–µ—Å–µ–Ω–Ω—è—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</a></li>
                        <li class="footer-menu__item"><a href="/autumn" class="footer-menu__link">–û—Å–µ–Ω–Ω—è—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</a></li>
                    </ul>
                </div>
                
                <div class="footer__col">
                    <h3 class="footer__title">–ü–û–ú–û–©–¨</h3>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="/size-chart" class="footer-menu__link">–¢–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤</a></li>
                        <li class="footer-menu__item"><a href="/delivery" class="footer-menu__link">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</a></li>
                        <li class="footer-menu__item"><a href="/contacts" class="footer-menu__link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <script src="js/script.js"></script>
    <script>
        // –î–∞–Ω–Ω—ã–µ –Ω–æ–≤–∏–Ω–æ–∫ (—Ç–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä—ã —Å isNew: true)
        const newProductsData = [
            { 
                id: 1, 
                name: "–í–µ—á–µ—Ä–Ω–µ–µ –ø–ª–∞—Ç—å–µ —Å –∫—Ä—É–∂–µ–≤–æ–º", 
                type: "evening", 
                material: "lace",
                color: ["black", "red"],
                size: ["S", "M", "L"], 
                price: 12500, 
                oldPrice: 15000, 
                isNew: true, 
                image: "img/dress1.webp",
                description: "–≠–ª–µ–≥–∞–Ω—Ç–Ω–æ–µ –≤–µ—á–µ—Ä–Ω–µ–µ –ø–ª–∞—Ç—å–µ –∏–∑ –∫—Ä—É–∂–µ–≤–∞ —Å –æ—Ç–∫—Ä—ã—Ç–æ–π —Å–ø–∏–Ω–æ–π. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∏ –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤.",
                dateAdded: "2023-05-15"
            },
            { 
                id: 3, 
                name: "–û—Ñ–∏—Å–Ω–æ–µ –ø–ª–∞—Ç—å–µ-—Ñ—É—Ç–ª—è—Ä", 
                type: "office", 
                material: "viscose",
                color: ["black", "blue"],
                size: ["S", "M"], 
                price: 7800, 
                oldPrice: 9500, 
                isNew: true, 
                image: "img/dress3.jpg",
                description: "–°—Ç—Ä–æ–≥–æ–µ –æ—Ñ–∏—Å–Ω–æ–µ –ø–ª–∞—Ç—å–µ-—Ñ—É—Ç–ª—è—Ä –∏–∑ –≤–∏—Å–∫–æ–∑—ã. –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç —Ñ–∏–≥—É—Ä—É –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–æ–º—Ñ–æ—Ä—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –¥–Ω—è.",
                dateAdded: "2023-06-01"
            },
            { 
                id: 6, 
                name: "–®–∏—Ñ–æ–Ω–æ–≤–æ–µ –ø–ª–∞—Ç—å–µ –º–∏–¥–∏", 
                type: "evening", 
                material: "chiffon",
                color: ["black", "pink"],
                size: ["XS", "S", "M"], 
                price: 10200, 
                oldPrice: 12500, 
                isNew: true, 
                image: "img/dress6.jpg",
                description: "–†–æ–º–∞–Ω—Ç–∏—á–Ω–æ–µ —à–∏—Ñ–æ–Ω–æ–≤–æ–µ –ø–ª–∞—Ç—å–µ –º–∏–¥–∏ –¥–ª–∏–Ω—ã. –õ–µ–≥–∫–∏–µ —Å—Ç—Ä—É—è—â–∏–µ—Å—è —Ç–∫–∞–Ω–∏ —Å–æ–∑–¥–∞—é—Ç –∂–µ–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑.",
                dateAdded: "2023-05-20"
            },
            { 
                id: 8, 
                name: "–ü–ª–∞—Ç—å–µ-–º–∞–∫—Å–∏ —Å –ø–æ—è—Å–æ–º", 
                type: "evening", 
                material: "silk",
                color: ["black", "blue"],
                size: ["M", "L"], 
                price: 14500, 
                oldPrice: 0, 
                isNew: true, 
                image: "img/dress8.webp",
                description: "–†–æ—Å–∫–æ—à–Ω–æ–µ –ø–ª–∞—Ç—å–µ-–º–∞–∫—Å–∏ –∏–∑ —à–µ–ª–∫–∞ —Å –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–º –ø–æ—è—Å–æ–º. –°–æ–∑–¥–∞–µ—Ç —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π –æ–±—Ä–∞–∑ –¥–ª—è –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤.",
                dateAdded: "2023-06-10"
            },
            { 
                id: 11, 
                name: "–ü–ª–∞—Ç—å–µ —Å –≤–æ–ª–∞–Ω–∞–º–∏", 
                type: "cocktail", 
                material: "silk",
                color: ["red", "pink"],
                size: ["S", "M"], 
                price: 8700, 
                oldPrice: 0, 
                isNew: true, 
                image: "img/dress11.jpg",
                description: "–ò–≥—Ä–∏–≤–æ–µ –∫–æ–∫—Ç–µ–π–ª—å–Ω–æ–µ –ø–ª–∞—Ç—å–µ —Å –≤–æ–ª–∞–Ω–∞–º–∏ –∏–∑ —à–µ–ª–∫–∞. –î–æ–±–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞–∑—É –¥–∏–Ω–∞–º–∏–∫–∏ –∏ –∂–µ–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.",
                dateAdded: "2023-05-25"
            }
        ];

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        const state = {
            products: [...newProductsData],
            sortBy: 'newest',
            currentPage: 1,
            productsPerPage: 8
        };

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            newGrid: document.getElementById('newGrid'),
            sortSelect: document.getElementById('sortSelect'),
            pagination: document.getElementById('pagination'),
            cartCount: document.getElementById('cart-count')
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function initPage() {
            renderProducts();
            setupEventListeners();
            updateCartCount();
        }

        // –†–µ–Ω–¥–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤
        function renderProducts() {
            const start = (state.currentPage - 1) * state.productsPerPage;
            const end = start + state.productsPerPage;
            const productsToShow = state.products.slice(start, end);

            elements.newGrid.innerHTML = productsToShow.map(product => `
                <article class="product-card">
                    <span class="product-card__badge">–ù–æ–≤–∏–Ω–∫–∞</span>
                    <div class="product-card__image-wrapper">
                        <img src="${product.image}" alt="${product.name}" class="product-card__image" loading="lazy">
                    </div>
                    <div class="product-card__content">
                        <h3 class="product-card__title">${product.name}</h3>
                        <div class="product-card__meta">
                            <span class="product-card__material">${getMaterialName(product.material)}</span>
                            <span class="product-card__type">${getTypeName(product.type)}</span>
                        </div>
                        <div class="product-card__color">
                            ${product.color.map(c => `
                                <span class="product-card__color-item" style="background-color: ${getColorCode(c)}"></span>
                            `).join('')}
                        </div>
                        <div class="product-card__price">
                            <span class="product-card__current-price">${product.price.toLocaleString()} ‚ÇΩ</span>
                            ${product.oldPrice ? `<span class="product-card__old-price">${product.oldPrice.toLocaleString()} ‚ÇΩ</span>` : ''}
                        </div>
                        <div class="product-card__actions">
                            <button class="btn btn--secondary add-to-cart" data-id="${product.id}">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                            <button class="btn btn--outline quick-view" data-id="${product.id}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                        </div>
                    </div>
                </article>
            `).join('');

            renderPagination();
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function getMaterialName(material) {
            const materials = {
                'lace': '–ö—Ä—É–∂–µ–≤–æ',
                'cotton': '–•–ª–æ–ø–æ–∫',
                'silk': '–®–µ–ª–∫',
                'viscose': '–í–∏—Å–∫–æ–∑–∞',
                'chiffon': '–®–∏—Ñ–æ–Ω'
            };
            return materials[material] || material;
        }

        function getTypeName(type) {
            const types = {
                'evening': '–í–µ—á–µ—Ä–Ω–µ–µ',
                'casual': '–ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–µ',
                'office': '–û—Ñ–∏—Å–Ω–æ–µ',
                'summer': '–õ–µ—Ç–Ω–µ–µ',
                'cocktail': '–ö–æ–∫—Ç–µ–π–ª—å–Ω–æ–µ'
            };
            return types[type] || type;
        }

        function getColorCode(color) {
            const colors = {
                'black': '#000000',
                'white': '#ffffff',
                'red': '#ff0000',
                'blue': '#0000ff',
                'pink': '#ffc0cb'
            };
            return colors[color] || color;
        }

        // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
        function renderPagination() {
            const totalPages = Math.ceil(state.products.length / state.productsPerPage);
            
            if (totalPages <= 1) {
                elements.pagination.style.display = 'none';
                return;
            }
            
            elements.pagination.style.display = 'flex';
            
            const pagesHTML = Array.from({length: totalPages}, (_, i) => {
                const page = i + 1;
                return `<button class="page-btn ${page === state.currentPage ? 'page-btn--active' : ''}">${page}</button>`;
            }).join('');
            
            elements.pagination.innerHTML = `
                <button class="pagination-btn ${state.currentPage === 1 ? 'pagination-btn--disabled' : ''}" data-action="prev">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    –ù–∞–∑–∞–¥
                </button>
                
                <div class="pagination-pages">
                    ${pagesHTML}
                </div>
                
                <button class="pagination-btn ${state.currentPage === totalPages ? 'pagination-btn--disabled' : ''}" data-action="next">
                    –í–ø–µ—Ä–µ–¥
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            `;
        }

        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        function sortProducts() {
            switch(state.sortBy) {
                case 'price-asc':
                    state.products.sort((a, b) => a.price - b.price);
                    break;
                case 'price-desc':
                    state.products.sort((a, b) => b.price - a.price);
                    break;
                case 'popular':
                    state.products.sort((a, b) => b.id - a.id);
                    break;
                default: // newest
                    state.products.sort((a, b) => new Date(b.dateAdded) - new Date(a.dateAdded));
            }
            
            state.currentPage = 1;
            renderProducts();
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
            elements.sortSelect.addEventListener('change', function(e) {
                state.sortBy = e.target.value;
                sortProducts();
            });
            
            // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
            document.addEventListener('click', function(e) {
                if (e.target.closest('[data-action="prev"]')) {
                    if (state.currentPage > 1) {
                        state.currentPage--;
                        renderProducts();
                    }
                } else if (e.target.closest('[data-action="next"]')) {
                    const totalPages = Math.ceil(state.products.length / state.productsPerPage);
                    if (state.currentPage < totalPages) {
                        state.currentPage++;
                        renderProducts();
                    }
                } else if (e.target.classList.contains('page-btn')) {
                    state.currentPage = parseInt(e.target.textContent);
                    renderProducts();
                }
            });
            
            // –ö–æ—Ä–∑–∏–Ω–∞
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('add-to-cart')) {
                    addToCart(e);
                }
                if (e.target.classList.contains('quick-view')) {
                    const productId = e.target.dataset.id;
                    window.location.href = `product-dress.html?id=${productId}`;
                }
            });
        }

        // –†–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π
        function addToCart(e) {
            const productId = parseInt(e.target.dataset.id);
            const product = newProductsData.find(p => p.id === productId);
            
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            animateAddToCart(e.target);
        }

        function animateAddToCart(button) {
            const originalText = button.textContent;
            button.textContent = '‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ';
            button.classList.add('added');
            
            setTimeout(() => {
                button.textContent = originalText;
                button.classList.remove('added');
            }, 2000);
        }

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            elements.cartCount.textContent = totalItems;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>