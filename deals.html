<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–∫—Ü–∏–∏ | –î—Ä—É–∂–±–∞ - –∂–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞</title>
    <link rel="stylesheet" href="css/style-main.css">
    <link rel="stylesheet" href="css/style-catalog.css">
    <link rel="stylesheet" href="css/style-deals.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header Section -->
   <header class="header">
    <div class="container">
        <div class="header__inner">
            <a href="index.html" class="logo">
                <img src="img/logo.svg" alt="–î—Ä—É–∂–±–∞" class="logo__img">
                <span class="logo__text">–î–†–£–ñ–ë–ê</span>
            </a>
            
            <nav class="nav">
                <ul class="nav__list">
                    <li class="nav__item nav__item--dropdown">
                        <a href="catalog.html" class="nav__link">
                            <span class="nav__link-text">–ö–∞—Ç–∞–ª–æ–≥</span>
                            <span class="nav__link-arrow"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li class="dropdown-item"><a href="topupClothes.html" class="dropdown-link">–í–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞</a></li>
                            <li class="dropdown-item"><a href="dresses.html" class="dropdown-link">–ü–ª–∞—Ç—å—è</a></li>
                            <li class="dropdown-item"><a href="pants.html" class="dropdown-link">–ë—Ä—é–∫–∏</a></li>
                            <li class="dropdown-item"><a href="t-shirts.html" class="dropdown-link">–§—É—Ç–±–æ–ª–∫–∏</a></li>
                            <li class="dropdown-item"><a href="accessories.html" class="dropdown-link">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</a></li>
                        </ul>
                    </li>
                    <li class="nav__item"><a href="deals.html" class="nav__link">–ê–∫—Ü–∏–∏</a></li>
                    <li class="nav__item"><a href="new.html" class="nav__link">–ù–æ–≤–∏–Ω–∫–∏</a></li>
                </ul>
            </nav>
            
            <div class="header__actions">
                <div class="auth-dropdown">
                    <button class="auth-btn" id="auth-btn">
                        <span class="auth-btn__icon">üë§</span>
                        <span class="auth-btn__text" id="auth-btn-text">–í–æ–π—Ç–∏</span>
                    </button>
                    <div class="auth-dropdown-menu" id="auth-dropdown">
                        <div class="auth-dropdown-content" id="auth-dropdown-content">
                            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
                        </div>
                    </div>
                </div>
                <a href="cart.html" class="cart-btn-link">
                    <button class="cart-btn" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
                        <span class="cart-btn__icon">üõí</span>
                        <span class="cart-btn__count" id="cart-count">0</span>
                    </button>
                </a>
            </div>
        </div>
    </div>
    </header>

    <main class="deals-page">
        <section class="deals-banner" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('img/deals-banner.jpg');">
            <div class="container">
                <h1 class="deals-banner__title">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h1>
                <p class="deals-banner__text">–í—ã–≥–æ–¥–Ω—ã–µ –ø–æ–∫—É–ø–∫–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –≥–∞—Ä–¥–µ—Ä–æ–±–∞</p>
                <div class="countdown-timer" id="countdownTimer">
                    <div class="countdown-item">
                        <span class="countdown-value" id="days">00</span>
                        <span class="countdown-label">–¥–Ω–µ–π</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="hours">00</span>
                        <span class="countdown-label">—á–∞—Å–æ–≤</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="minutes">00</span>
                        <span class="countdown-label">–º–∏–Ω—É—Ç</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="seconds">00</span>
                        <span class="countdown-label">—Å–µ–∫—É–Ω–¥</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="deals-sections">
            <div class="container">
                <div class="deals-tabs">
                    <button class="deals-tab active" data-tab="all">–í—Å–µ –∞–∫—Ü–∏–∏</button>
                    <button class="deals-tab" data-tab="discount">–°–∫–∏–¥–∫–∏</button>
                    <button class="deals-tab" data-tab="bundle">–ù–∞–±–æ—Ä—ã</button>
                    <button class="deals-tab" data-tab="clearance">–†–∞—Å–ø—Ä–æ–¥–∞–∂–∞</button>
                </div>
                
                <div class="deals-content">
                    <div class="deals-grid" id="dealsGrid">
                        <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>
        </section>

        <section class="special-offer">
            <div class="container">
                <div class="special-offer__card">
                    <div class="special-offer__content">
                        <h2 class="special-offer__title">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏</h2>
                        <p class="special-offer__text">–ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –¥–≤—É—Ö –≤–µ—â–µ–π –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ "–õ–µ—Ç–æ 2023" - —Ç—Ä–µ—Ç—å—è –≤ –ø–æ–¥–∞—Ä–æ–∫!</p>
                        <button class="btn btn--primary" id="specialOfferBtn">–£–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</button>
                    </div>
                    <div class="special-offer__image">
                        <img src="img/special-offer.jpg" alt="–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ">
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer" id="footer">
        <div class="container">
            <div class="footer__grid">
                <!-- Brand Column -->
                <div class="footer__col footer__col--brand">
                    <div class="footer-brand">
                        <img src="img/logo2.svg" alt="–î—Ä—É–∂–±–∞" class="footer-brand__logo">
                        <h3 class="footer-brand__name">–î–†–£–ñ–ë–ê</h3>
                    </div>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="/about" class="footer-menu__link">–û –Ω–∞—Å</a></li>
                    </ul>
                </div>
                
                <!-- Other Columns -->
                <div class="footer__col">
                    <h3 class="footer__title">–ö–ê–¢–ê–õ–û–ì–ò</h3>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="topupClothes.html" class="footer-menu__link">–í–≤–µ—Ä—Ö–Ω—è—è –æ–¥–µ–∂–¥–∞</a></li>
                        <li class="footer-menu__item"><a href="dresses.html" class="footer-menu__link">–ü–ª–∞—Ç—å—è</a></li>
                        <li class="footer-menu__item"><a href="/lingerie" class="footer-menu__link">–ë—Ä—é–∫–∏</a></li>
                        <li class="footer-menu__item"><a href="/lingerie" class="footer-menu__link">–§—É—Ç–±–æ–ª–∫–∏</a></li>
                        <li class="footer-menu__item"><a href="/lingerie" class="footer-menu__link">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</a></li>
                    </ul>
                </div>
                
                <div class="footer__col">
                    <h3 class="footer__title">–ù–û–í–ò–ù–ö–ò</h3>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="deals.html" class="footer-menu__link">–ê–∫—Ü–∏–∏</a></li>
                        <li class="footer-menu__item"><a href="new.html" class="footer-menu__link">–ù–æ–≤–∏–Ω–∫–∏</a></li>
                    </ul>
                </div>
                
                <div class="footer__col">
                    <h3 class="footer__title">–ò–ó–ë–†–ê–ù–ù–û–ï</h3>
                    <ul class="footer-menu">
                        <li class="footer-menu__item"><a href="cart.html" class="footer-menu__link">–ö–æ—Ä–∑–∏–Ω–∞</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <script src="js/script.js"></script>
    <script>
        // –î–∞–Ω–Ω—ã–µ –∞–∫—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
        const dealsData = [
            { 
                id: 1, 
                name: "–í–µ—á–µ—Ä–Ω–µ–µ –ø–ª–∞—Ç—å–µ —Å –∫—Ä—É–∂–µ–≤–æ–º", 
                type: "evening", 
                material: "lace",
                color: ["black", "red"],
                size: ["S", "M", "L"], 
                price: 12500, 
                oldPrice: 15000, 
                discount: 17,
                dealType: "discount",
                image: "img/dress1.webp",
                description: "–≠–ª–µ–≥–∞–Ω—Ç–Ω–æ–µ –≤–µ—á–µ—Ä–Ω–µ–µ –ø–ª–∞—Ç—å–µ –∏–∑ –∫—Ä—É–∂–µ–≤–∞ —Å –æ—Ç–∫—Ä—ã—Ç–æ–π —Å–ø–∏–Ω–æ–π.",
                endDate: "2023-07-15T23:59:59"
            },
            { 
                id: 2, 
                name: "–õ–µ—Ç–Ω–∏–π –∫–æ–º–ø–ª–µ–∫—Ç: –ø–ª–∞—Ç—å–µ + —Å—É–º–∫–∞", 
                type: "bundle", 
                material: "cotton",
                color: ["white", "blue"],
                size: ["S", "M"], 
                price: 8900, 
                oldPrice: 12000, 
                discount: 26,
                dealType: "bundle",
                image: "img/bundle1.jpg",
                description: "–õ–µ—Ç–Ω–∏–π –∫–æ–º–ø–ª–µ–∫—Ç: –ø–ª–∞—Ç—å–µ –∏–∑ —Ö–ª–æ–ø–∫–∞ + —Å—Ç–∏–ª—å–Ω–∞—è —Å—É–º–∫–∞ –∏–∑ —ç–∫–æ–∫–æ–∂–∏.",
                endDate: "2023-07-10T23:59:59"
            },
            { 
                id: 3, 
                name: "–û—Ñ–∏—Å–Ω–æ–µ –ø–ª–∞—Ç—å–µ-—Ñ—É—Ç–ª—è—Ä", 
                type: "office", 
                material: "viscose",
                color: ["black", "blue"],
                size: ["S", "M"], 
                price: 7800, 
                oldPrice: 9500, 
                discount: 18,
                dealType: "discount",
                image: "img/dress3.jpg",
                description: "–°—Ç—Ä–æ–≥–æ–µ –æ—Ñ–∏—Å–Ω–æ–µ –ø–ª–∞—Ç—å–µ-—Ñ—É—Ç–ª—è—Ä –∏–∑ –≤–∏—Å–∫–æ–∑—ã.",
                endDate: "2023-07-20T23:59:59"
            },
            { 
                id: 4, 
                name: "–†–∞—Å–ø—Ä–æ–¥–∞–∂–∞: –∫–æ–∫—Ç–µ–π–ª—å–Ω–æ–µ –ø–ª–∞—Ç—å–µ", 
                type: "cocktail", 
                material: "silk",
                color: ["red", "pink"],
                size: ["M", "L"], 
                price: 6900, 
                oldPrice: 11000, 
                discount: 37,
                dealType: "clearance",
                image: "img/dress4.webp",
                description: "–°—Ç–∏–ª—å–Ω–æ–µ –∫–æ–∫—Ç–µ–π–ª—å–Ω–æ–µ –ø–ª–∞—Ç—å–µ –∏–∑ —à–µ–ª–∫–∞ —Å —Ä—é—à–∞–º–∏.",
                endDate: "2023-07-05T23:59:59"
            },
            { 
                id: 5, 
                name: "–ù–∞–±–æ—Ä: 2 –ø–ª–∞—Ç—å—è + –ø–æ—è—Å", 
                type: "bundle", 
                material: "cotton",
                color: ["white", "blue"],
                size: ["S", "M", "L"], 
                price: 11500, 
                oldPrice: 16000, 
                discount: 28,
                dealType: "bundle",
                image: "img/dress5.webp",
                description: "–ù–∞–±–æ—Ä –∏–∑ 2-—Ö –ø–ª–∞—Ç—å–µ–≤ –∏ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—è—Å–∞.",
                endDate: "2023-07-25T23:59:59"
            },
            { 
                id: 6, 
                name: "–®–∏—Ñ–æ–Ω–æ–≤–æ–µ –ø–ª–∞—Ç—å–µ –º–∏–¥–∏", 
                type: "evening", 
                material: "chiffon",
                color: ["black", "pink"],
                size: ["XS", "S", "M"], 
                price: 10200, 
                oldPrice: 12500, 
                discount: 18,
                dealType: "discount",
                image: "img/dress6.jpg",
                description: "–†–æ–º–∞–Ω—Ç–∏—á–Ω–æ–µ —à–∏—Ñ–æ–Ω–æ–≤–æ–µ –ø–ª–∞—Ç—å–µ –º–∏–¥–∏ –¥–ª–∏–Ω—ã.",
                endDate: "2023-07-18T23:59:59"
            }
        ];

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        const state = {
            products: [...dealsData],
            filteredProducts: [...dealsData],
            activeTab: 'all',
            currentPage: 1,
            productsPerPage: 6
        };

        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const elements = {
            dealsGrid: document.getElementById('dealsGrid'),
            countdownTimer: document.getElementById('countdownTimer'),
            days: document.getElementById('days'),
            hours: document.getElementById('hours'),
            minutes: document.getElementById('minutes'),
            seconds: document.getElementById('seconds'),
            dealTabs: document.querySelectorAll('.deals-tab'),
            cartCount: document.getElementById('cart-count'),
            specialOfferBtn: document.getElementById('specialOfferBtn')
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function initPage() {
            renderProducts();
            setupEventListeners();
            updateCartCount();
            startCountdown();
        }

        // –†–µ–Ω–¥–µ—Ä —Ç–æ–≤–∞—Ä–æ–≤
        function renderProducts() {
            elements.dealsGrid.innerHTML = state.filteredProducts.map(product => `
                <article class="product-card">
                    <span class="discount-badge">-${product.discount}%</span>
                    <div class="product-card__image-wrapper">
                        <img src="${product.image}" alt="${product.name}" class="product-card__image" loading="lazy">
                    </div>
                    <div class="product-card__content">
                        <h3 class="product-card__title">${product.name}</h3>
                        <div class="product-card__meta">
                            <span class="product-card__deal-type">${getDealTypeName(product.dealType)}</span>
                            <span class="product-card__time-left">–î–æ ${formatDate(product.endDate)}</span>
                        </div>
                        <div class="product-card__color">
                            ${product.color.map(c => `
                                <span class="product-card__color-item" style="background-color: ${getColorCode(c)}"></span>
                            `).join('')}
                        </div>
                        <div class="product-card__price">
                            <span class="product-card__current-price">${product.price.toLocaleString()} ‚ÇΩ</span>
                            <span class="product-card__old-price">${product.oldPrice.toLocaleString()} ‚ÇΩ</span>
                        </div>
                        <div class="product-card__actions">
                            <button class="btn btn--secondary add-to-cart" data-id="${product.id}">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                            <button class="btn btn--outline quick-view" data-id="${product.id}">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                        </div>
                    </div>
                </article>
            `).join('');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function getDealTypeName(type) {
            const types = {
                'discount': '–°–∫–∏–¥–∫–∞',
                'bundle': '–ù–∞–±–æ—Ä',
                'clearance': '–†–∞—Å–ø—Ä–æ–¥–∞–∂–∞'
            };
            return types[type] || type;
        }

        function getColorCode(color) {
            const colors = {
                'black': '#000000',
                'white': '#ffffff',
                'red': '#ff0000',
                'blue': '#0000ff',
                'pink': '#ffc0cb'
            };
            return colors[color] || color;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ru-RU', { day: 'numeric', month: 'long' });
        }

        // –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
        function startCountdown() {
            // –£—Å—Ç–∞–Ω–æ–≤–∏–º –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–∫—Ü–∏–∏ (—á–µ—Ä–µ–∑ 7 –¥–Ω–µ–π –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã)
            const endDate = new Date();
            endDate.setDate(endDate.getDate() + 7);
            
            const timer = setInterval(function() {
                const now = new Date().getTime();
                const distance = endDate - now;
                
                if (distance < 0) {
                    clearInterval(timer);
                    elements.countdownTimer.innerHTML = '<div class="countdown-ended">–ê–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</div>';
                    return;
                }
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                elements.days.textContent = days.toString().padStart(2, '0');
                elements.hours.textContent = hours.toString().padStart(2, '0');
                elements.minutes.textContent = minutes.toString().padStart(2, '0');
                elements.seconds.textContent = seconds.toString().padStart(2, '0');
            }, 1000);
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø–∞–º –∞–∫—Ü–∏–π
        function filterProducts() {
            if (state.activeTab === 'all') {
                state.filteredProducts = [...state.products];
            } else {
                state.filteredProducts = state.products.filter(
                    product => product.dealType === state.activeTab
                );
            }
            renderProducts();
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–±–æ–≤
            elements.dealTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    elements.dealTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    state.activeTab = this.dataset.tab;
                    filterProducts();
                });
            });
            
            // –ö–æ—Ä–∑–∏–Ω–∞
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('add-to-cart')) {
                    addToCart(e);
                }
                if (e.target.classList.contains('quick-view')) {
                    const productId = e.target.dataset.id;
                    window.location.href = `product-dress.html?id=${productId}`;
                }
            });
            
            // –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
            elements.specialOfferBtn.addEventListener('click', function() {
                alert('–ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –¥–≤—É—Ö –≤–µ—â–µ–π –∏–∑ –ª–µ—Ç–Ω–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ—Ç—å—é –≤–µ—â—å —Ä–∞–≤–Ω–æ–π –∏–ª–∏ –º–µ–Ω—å—à–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ - –∏ –æ–Ω–∞ –±—É–¥–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π! –ê–∫—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –¥–æ 31.07.2025.');
            });
        }

        // –†–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π
        function addToCart(e) {
            const productId = parseInt(e.target.dataset.id);
            const product = dealsData.find(p => p.id === productId);
            
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            animateAddToCart(e.target);
        }

        function animateAddToCart(button) {
            const originalText = button.textContent;
            button.textContent = '‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ';
            button.classList.add('added');
            
            setTimeout(() => {
                button.textContent = originalText;
                button.classList.remove('added');
            }, 2000);
        }

        function updateCartCount() {
            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            elements.cartCount.textContent = totalItems;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>